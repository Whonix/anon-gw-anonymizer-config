## Do not edit this file!
## Please create and add modifications to the following file instead:
## /usr/local/etc/torrc.d/50_user.conf

## Copyright (C) 2012 - 2025 ENCRYPTED SUPPORT LLC <adrelanos@whonix.org>
## See the file COPYING for copying conditions.

## Please use "/usr/local/etc/torrc.d/50_user.conf" for your custom
## configuration, which will override the defaults found here.
## When this package is updated, this file may be overwritten.

#### meta start
#### project Whonix
#### category tor and networking
#### gateway_only yes
#### description
## Tor settings for Gateway: `ClientOnionAuthDir`, `SocksPort`s, `TransPort`,
## `DnsPort`, `HTTPTunnelPort`s and stream isolation settings.
#### meta end

########################
# Tor Control Protocol #
########################

## Required for onion-grater.
## See /usr/lib/onion-grater for the comment.
## See also upstream bug report:
## No Control Socket when DisableNetwork and User options are set
## https://gitlab.torproject.org/tpo/core/tor/-/issues/25173
ControlPort 9052
## Oct 15 14:04:17.408 [warn] ControlPort is open, but no authentication method has been configured.  This means that any program on your computer can reconfigure your Tor.  That's bad!  You should upgrade your Tor controller as soon as possible.
CookieAuthentication 1

###################################
# Authenticated Onion v3 Services #
###################################

## anon-gw-anonymizer-config.service / /usr/libexec/helper-scripts/repair-torrc
## creates folder /var/lib/tor/authdir
ClientOnionAuthDir /var/lib/tor/authdir
